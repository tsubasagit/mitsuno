# DIFY変数名の確認ガイド

## 現在の設定

### フロントエンド側（script.js）
```javascript
inputs: {
    job: job  // 変数名: 'job'
}
```

### DIFYワークフロー側
- 変数名: `job`（画像から確認）
- ラベル名: `job`
- タイプ: 短文（string）

## 確認手順

### 1. DIFYのワークフロー画面で確認

1. DIFYのワークフロー画面を開く
2. 「開始」ノードをクリック
3. 右側のパネルで「入力フィールド」を確認
4. 変数名（Variable Name）が `job` になっているか確認

### 2. LLMノードでの変数参照を確認

1. LLMノードをクリック
2. プロンプトを確認
3. 変数の参照形式を確認：
   - `{{job}}` または
   - `{{#job}}{{job}}{{/job}}` または
   - その他の形式

### 3. ブラウザのコンソールで確認

1. ブラウザで `index.html` を開く
2. 開発者ツール（F12）を開く
3. 「コンソール」タブを開く
4. 職業を入力して「質問を生成する」をクリック
5. 以下のログを確認：
   - `送信する変数名: job`
   - `送信する値: [入力した職業]`
   - `DIFY API リクエスト Body:` の内容

## 変数名が異なる場合の修正方法

### 例1: 変数名が `職業` の場合

`script.js` を以下のように修正：

```javascript
inputs: {
    職業: job  // DIFYの変数名に合わせる
}
```

### 例2: 変数名が `job_input` の場合

`script.js` を以下のように修正：

```javascript
inputs: {
    job_input: job  // DIFYの変数名に合わせる
}
```

## よくある問題

### 問題1: 変数名の大文字小文字の違い

- DIFY: `Job`
- フロントエンド: `job`
→ 一致させる必要があります

### 問題2: 変数名にスペースが含まれる

- DIFY: `job input`
- フロントエンド: `job`
→ DIFYの変数名にスペースを含めないようにするか、正確に一致させる

### 問題3: 変数が必須設定になっている

- DIFYの「開始」ノードで「必須」チェックが入っている場合、必ず値を送信する必要があります
- 現在のコードでは `job` の値を送信しているので問題ありません

## 次のステップ

1. ブラウザのコンソールでリクエスト内容を確認
2. DIFYのワークフロー画面で変数名を再確認
3. 必要に応じて `script.js` の `inputs` オブジェクトを修正

